<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Input Jadwal | SIPENDOS</title>
    <link rel="stylesheet" href="css/input-keterangan.css">
    <link rel="icon" href="IMG/Logo.png" />
</head>

<body>
    <section class="input-keterangan-section">
        <div class="container">
            <a onclick="window.history.back()" class="back-btn">Back</a>
            <h1>Input Keterangan Jadwal</h1>
            <div class="input-container">
                <form action="" method="post">
                    <div class="table-container">
                        <div class="input-header">
                            <div class="kode-mk">Kode MK</div>
                            <div class="nama-mk">Nama Matakuliah</div>
                            <div class="nama-kelas">Kelas</div>
                            <div class="sks">SKS</div>
                            <div class="ruang">Ruang</div>
                            <div class="hari">Hari</div>
                            <div class="jam-mulai">Jam Mulai</div>
                            <div class="jam-selesai">Jam Selesai</div>
                            <div class="action"></div>
                        </div>
                        <div class="input-row">
                            <div class="kode-mk">
                                <input type="text" name="kode-mk-[]" id="" required />
                            </div>
                            <div class="nama-mk">
                                <input type="text" name="nama-mk-[]" id="" required />
                            </div>
                            <div class="nama-kelas">
                                <select name="nama-kelas-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="sks">
                                <select name="sks-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                            </div>
                            <div class="ruang">
                                <select name="ruang-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="101">101</option>
                                    <option value="102">102</option>
                                    <option value="103">103</option>
                                    <option value="104">104</option>
                                    <option value="105">105</option>
                                </select>
                            </div>
                            <div class="hari">
                                <select name="hari-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="Senin">Senin</option>
                                    <option value="Selasa">Selasa</option>
                                    <option value="Rabu">Rabu</option>
                                    <option value="Kamis">Kamis</option>
                                    <option value="Jumat">Jumat</option>
                                    <option value="Sabtu">Sabtu</option>
                                    <option value="Minggu">Minggu</option>
                                </select>
                            </div>
                            <div class="jam-mulai">
                                <select name="jam-mulai-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="6">06.00</option>
                                    <option value="7">07.00</option>
                                    <option value="8">08.00</option>
                                    <option value="9">09.00</option>
                                    <option value="10">10.00</option>
                                    <option value="11">11.00</option>
                                    <option value="12">12.00</option>
                                    <option value="13">13.00</option>
                                    <option value="14">14.00</option>
                                    <option value="15">15.00</option>
                                    <option value="16">16.00</option>
                                    <option value="17">17.00</option>
                                </select>
                            </div>
                            <div class="jam-selesai">
                                <select name="jam-selesai-[]" id="" required>
                                    <option value="-" selected disabled>-</option>
                                    <option value="8">08.00</option>
                                    <option value="9">09.00</option>
                                    <option value="10">10.00</option>
                                    <option value="11">11.00</option>
                                    <option value="12">12.00</option>
                                    <option value="13">13.00</option>
                                    <option value="14">14.00</option>
                                    <option value="15">15.00</option>
                                    <option value="16">16.00</option>
                                    <option value="17">17.00</option>
                                    <option value="18">18.00</option>
                                    <option value="19">19.00</option>
                                </select>
                            </div>
                            <div class="action">
                                <button name="add" id="add" class="add-btn">
                                    <svg width="18" height="18" viewBox="0 0 23 23" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.5 11.5H21.5M11.5 1.5V21.5" stroke="white" stroke-width="3"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="button-container">
                        <button type="submit" name="submit">Simpan & Tambah Dosen</button>
                    </div>
                </form>
            </div>
        </div>
        </div>
    </section>
    <script>
        let i = 0;

        // ambil form utama
        const form = document.querySelector('.table-container');

        // fungsi untuk membuat row baru
        function createRow(index) {
            return `
            <div class="input-row">
                <div class="kode-mk">
                    <input type="text" name="kode-mk-[${index}]" required />
                </div>
                <div class="nama-mk">
                    <input type="text" name="nama-mk-[${index}]" required />
                </div>
                <div class="nama-kelas">
                    <select name="nama-kelas-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                    </select>
                </div>
                <div class="sks">
                    <select name="sks-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <div class="ruang">
                    <select name="ruang-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="101">101</option>
                        <option value="102">102</option>
                        <option value="103">103</option>
                        <option value="104">104</option>
                        <option value="105">105</option>
                    </select>
                </div>
                <div class="hari">
                    <select name="hari-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="Senin">Senin</option>
                        <option value="Selasa">Selasa</option>
                        <option value="Rabu">Rabu</option>
                        <option value="Kamis">Kamis</option>
                        <option value="Jumat">Jumat</option>
                        <option value="Sabtu">Sabtu</option>
                        <option value="Minggu">Minggu</option>
                    </select>
                </div>
                <div class="jam-mulai">
                    <select name="jam-mulai-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="6">06.00</option>
                        <option value="7">07.00</option>
                        <option value="8">08.00</option>
                        <option value="9">09.00</option>
                        <option value="10">10.00</option>
                        <option value="11">11.00</option>
                        <option value="12">12.00</option>
                        <option value="13">13.00</option>
                        <option value="14">14.00</option>
                        <option value="15">15.00</option>
                        <option value="16">16.00</option>
                        <option value="17">17.00</option>
                    </select>
                </div>
                <div class="jam-selesai">
                    <select name="jam-selesai-[${index}]" required>
                        <option value="-" selected disabled>-</option>
                        <option value="8">08.00</option>
                        <option value="9">09.00</option>
                        <option value="10">10.00</option>
                        <option value="11">11.00</option>
                        <option value="12">12.00</option>
                        <option value="13">13.00</option>
                        <option value="14">14.00</option>
                        <option value="15">15.00</option>
                        <option value="16">16.00</option>
                        <option value="17">17.00</option>
                        <option value="18">18.00</option>
                        <option value="19">19.00</option>
                    </select>
                </div>
                <div class="action">
                    <button type="button" class="add-btn">
                        <svg width="18" height="18" viewBox="0 0 23 23" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.5 11.5H21.5M11.5 1.5V21.5" stroke="white" stroke-width="3"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>`;
        }

        // pasang event listener ke form
        form.addEventListener('click', function (e) {
            // tombol add ditekan
            if (e.target.closest('.add-btn')) {
                e.preventDefault();
                i++;

                const currentRow = e.target.closest('.input-row');

                // ubah tombol add jadi remove
                currentRow.querySelector('.action').innerHTML = `
                    <button type="button" class="remove-btn" name="remove">
                        <svg width="17" height="18" viewBox="0 0 27 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24.8612 5.41699H1.25" stroke="white" stroke-width="2.5" stroke-linecap="round" />
                            <path d="M22.546 8.88892L21.9071 18.471C21.6613 22.1584 21.5383 24.0022 20.337 25.1261C19.1356 26.2501 17.2878 26.2501 13.5922 26.2501H12.5182C8.82258 26.2501 6.9748 26.2501 5.7734 25.1261C4.57201 24.0022 4.44909 22.1584 4.20326 18.471L3.56445 8.88892" stroke="white" stroke-width="2.5" stroke-linecap="round" />
                            <path d="M9.5835 12.3613L10.2779 19.3058" stroke="white" stroke-width="2.5" stroke-linecap="round" />
                            <path d="M16.5279 12.3613L15.8335 19.3058" stroke="white" stroke-width="2.5" stroke-linecap="round" />
                            <path d="M5.41602 5.41668C5.49363 5.41668 5.53243 5.41668 5.56761 5.41579C6.71128 5.38681 7.72021 4.65961 8.10938 3.58379C8.12135 3.55069 8.13361 3.51388 8.15815 3.44024L8.293 3.03571C8.40811 2.69039 8.46567 2.51773 8.542 2.37111C8.84658 1.78621 9.4101 1.38006 10.0613 1.27607C10.2245 1.25 10.4066 1.25 10.7706 1.25H15.3392C15.7032 1.25 15.8853 1.25 16.0485 1.27607C16.6998 1.38006 17.2632 1.78621 17.5678 2.37111C17.6442 2.51773 17.7017 2.69039 17.8168 3.03571L17.9517 3.44024C17.9762 3.51379 17.9885 3.55072 18.0005 3.58379C18.3896 4.65961 19.3985 5.38681 20.5423 5.41579C20.5774 5.41668 20.6162 5.41668 20.6938 5.41668" stroke="white" stroke-width="2.5" />
                        </svg>
                    </button>
                `;

                // tambahkan baris baru di bawah baris sekarang
                currentRow.insertAdjacentHTML('afterend', createRow(i));
            }

            // tombol remove ditekan
            if (e.target.closest('.remove-btn')) {
                e.preventDefault();
                const row = e.target.closest('.input-row');
                row.remove();
            }
        });
    </script>

</body>

</html>